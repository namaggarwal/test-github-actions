name: Release to python pip

on:
  issue_comment:
    types: [created]

jobs:
  build:
    if: github.actor == 'namaggarwal' && startsWith(github.event.issue.title, 'Release ') && github.event.comment.body == 'release'
    runs-on: ubuntu-latest
    steps:
      - uses: actions-ecosystem/action-regex-match@v2
        id: check-release
        with:
          text: ${{ github.event.issue.title }}
          regex: '^Release (\d\.\d\.\d)$'
      - name: print stuff
        if: ${{ steps.check-release.outputs.group1 != ''}}
        run: |
          echo ${{ steps.check-release.outputs.group1 }}
          echo ${{ github.event.issue.title }}
          echo ${{ github.event.sender.login }}
          echo ${{ github.event.comment.body }}
      - name: Checkout version ${{ steps.check-release.outputs.group1 }}
        if: ${{ steps.check-release.outputs.group1 != ''}}
        uses: actions/checkout@v2
        with:
          ref: ${{ steps.check-release.outputs.group1 }}


